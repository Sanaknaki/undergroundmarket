(this["webpackJsonpunderground-market"]=this["webpackJsonpunderground-market"]||[]).push([[0],{53:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),c=a.n(s),i=a(21),r=a.n(i),l=(a(53),a(8)),o=a(17),d=a(6),j=a(90),p=a(83),u=a(84),b=a(85),h=function(e){var t=e.track;return Object(n.jsx)(o.b,{to:"/track/"+t.id,children:Object(n.jsx)(j.a.Item,{children:Object(n.jsx)(p.a,{children:Object(n.jsxs)(u.a,{style:{color:"black"},children:[Object(n.jsxs)(b.a,{className:"text-left",md:10,children:[Object(n.jsx)("span",{className:"thicc gray",style:{fontSize:"20px",display:"block"},children:t.name}),Object(n.jsx)("span",{className:"bold lightgray",style:{fontSize:"12px",display:"block"},children:t.album.artists[0].name})]}),Object(n.jsx)(b.a,{className:"d-flex align-items-center justify-content-end",md:2,children:Object(n.jsx)("span",{className:"bold blue",style:{fontSize:"16px"},children:t.popularity})})]})})})})},m=a(86),A=function(e){var t=e.token,a=e.name,s=e.undergroundPlaylist,c=e.undergroundPlaylistID,i=e.popularDailyPlaylist,r=e.createUndergroundMarketPlaylist;return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)(m.a,{className:"text-left",style:{width:"100%",backgroundColor:"transparent",paddingLeft:"0px"},children:Object(n.jsxs)(u.a,{style:{fontSize:"calc(10px + 2vmin)",width:"100%",marginLeft:"auto",marginRight:"auto"},children:[Object(n.jsx)(b.a,{md:1}),Object(n.jsx)(b.a,{className:"text-left",md:11,children:Object(n.jsxs)("span",{className:"bold",children:[Object(n.jsx)("span",{className:"gray",children:"Good morning,"})," ",Object(n.jsxs)("span",{className:"blue",children:[a,"!"]})]})})]})}),Object(n.jsxs)(u.a,{style:{width:"100%",marginLeft:"auto",marginRight:"auto"},children:[Object(n.jsx)(b.a,{md:1}),Object(n.jsxs)(b.a,{className:"text-left",md:3,children:[Object(n.jsx)("span",{className:"bold gray",style:{fontSize:"16px"},children:"Playlist"}),Object(n.jsx)(j.a,{className:"boxShadow",children:s&&"-1"!==c?0===s.length?Object(n.jsx)(j.a.Item,{children:Object(n.jsx)(b.a,{className:"text-center",md:12,children:Object(n.jsx)("span",{className:"bold lightgray",style:{fontSize:"16px",display:"block"},children:"Add music to your playlist to view them in your playlist portfolio!"})})}):s.map((function(e,t){return Object(n.jsx)(h,{track:e.track},t)})):Object(n.jsx)(b.a,{className:"text-center",md:12,children:Object(n.jsx)("span",{onClick:function(){return r(t)},className:"bold lightgray",style:{fontSize:"16px",display:"block",cursor:"pointer"},children:'Create a playlist named "Underground Market" to start.'})})})]}),Object(n.jsx)(b.a,{sm:4}),Object(n.jsxs)(b.a,{className:"text-left",md:3,children:[Object(n.jsx)("span",{className:"bold gray",style:{fontSize:"16px"},children:"Popular Tracks Today"}),Object(n.jsx)(j.a,{className:"boxShadow",children:i.map((function(e,t){return Object(n.jsx)(h,{track:e.track},t)}))})]}),Object(n.jsx)(b.a,{md:1})]})]})})},x=a(19),f=a(14),y=a.n(f),g=function(e){var t=e.label,a=e.value;return Object(n.jsx)(j.a.Item,{style:{paddingTop:"40px",paddingBottom:"40px"},children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)(b.a,{md:6,className:"text-left",children:Object(n.jsx)("span",{className:"thicc gray",children:t})}),Object(n.jsx)(b.a,{md:6,className:"text-right",children:Object(n.jsx)("span",{className:"bold blue",children:a})})]})})},O=a(87),v=function(e){var t=e.playlist,a=e.playlistID,i=Object(s.useState)(Boolean),r=Object(l.a)(i,2),o=r[0],d=void 0!==o&&o,p=r[1],h=Object(s.useState)(Boolean),m=Object(l.a)(h,2),A=m[0],f=void 0!==A&&A,v=m[1],N=Object(s.useState)({isInPlaylist:!1,dateAdded:""}),k=Object(l.a)(N,2),w=k[0],B=k[1],E=Object(s.useState)(""),I=Object(l.a)(E,2),P=I[0],G=I[1],T=Object(s.useState)(),S=Object(l.a)(T,2),D=S[0],Q=S[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("TOKEN");e&&(G(e),y()("https://api.spotify.com/v1/tracks/"+window.location.pathname.split("/")[2],{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+e},data:"grant_type=client_credentials",method:"GET"}).then((function(e){var a,n=Object(x.a)(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;if(s.track.id===e.data.id){B({isInPlaylist:!0,dateAdded:s.added_at.slice(0,10)});break}}}catch(c){n.e(c)}finally{n.f()}p(!0),Q(e.data)})))}),[t]),d?Object(n.jsx)("header",{className:"track-view",children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)(b.a,{style:{marginBottom:"50px"},className:"d-flex justify-content-center",md:12,children:Object(n.jsx)("div",{style:{backgroundImage:"url("+(null===D||void 0===D?void 0:D.album.images[0].url)+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:"350px",width:"350px"}})}),Object(n.jsxs)(b.a,{style:{marginBottom:"50px"},className:"text-center",md:12,children:[Object(n.jsx)("span",{className:"thicc green",style:{fontSize:"35px",display:"block"},children:null===D||void 0===D?void 0:D.name}),Object(n.jsx)("span",{className:"medium gray",style:{fontSize:"18px",display:"block"},children:null===D||void 0===D?void 0:D.artists[0].name})]}),Object(n.jsx)(b.a,{md:12,style:{marginBottom:"50px"},children:Object(n.jsx)(u.a,{children:Object(n.jsx)(b.a,{md:{span:6,offset:3},children:Object(n.jsxs)(j.a,{className:"boxShadow",children:[Object(n.jsx)(g,{label:"Popularity",value:null===D||void 0===D?void 0:D.popularity}),Object(n.jsx)(g,{label:"Date Of Release",value:null===D||void 0===D?void 0:D.album.release_date}),w.isInPlaylist?Object(n.jsx)(g,{label:"Date Added To Playlist",value:w.dateAdded}):null]})})})}),Object(n.jsx)(b.a,{md:12,className:"text-center",children:Object(n.jsx)(O.a,{className:w.isInPlaylist?"white remove-btn bold":"gray add-btn bold",disabled:f,onClick:function(){return e=w.isInPlaylist,v(!0),void y()("https://api.spotify.com/v1/playlists/"+a+"/tracks",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+P},data:{uris:[null===D||void 0===D?void 0:D.uri]},method:e?"DELETE":"POST"}).then((function(){B({isInPlaylist:!w.isInPlaylist,dateAdded:"Just now"}),v(!1)}));var e},children:f?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("i",{className:"fas fa-spinner fa-spin"})," Making it so..."]}):w.isInPlaylist?"Remove From Playlist":"Add To Playlist"})})]})}):Object(n.jsxs)("header",{className:"track-view lightgray thicc",children:[Object(n.jsx)("i",{className:"fas fa-spinner fa-spin fa-7x"}),Object(n.jsx)("span",{style:{marginLeft:"30px",fontSize:"30px"},children:"Getting some info..."})]})},N=function(e){var t=e.playlist,a=e.playlistID;Object(s.useEffect)((function(){"-1"!==a&&function(){var e,a=0,n=0,s=new Set,c=Object(x.a)(t);try{for(c.s();!(e=c.n()).done;){var i=e.value;a++,n+=i.track.popularity,s.add(i.track.artists[0])}}catch(l){c.e(l)}finally{c.f()}var r=Math.floor(n/a);o({undergroundStatus:r>80?"BAD":r>45?"AVERAGE":"GREAT",numTracks:a,avgPopularity:r,numArtists:s.size}),y(!0)}()}),[t]);var c=Object(s.useState)({undergroundStatus:"",numTracks:0,avgPopularity:0,numArtists:0}),i=Object(l.a)(c,2),r=i[0],o=i[1],d=Object(s.useState)(Boolean),h=Object(l.a)(d,2),A=h[0],f=void 0!==A&&A,y=h[1];return f?Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)(m.a,{className:"text-left",style:{fontSize:"calc(10px + 2vmin)",width:"100%",backgroundColor:"transparent",paddingLeft:"0px"},children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)(b.a,{md:1}),Object(n.jsx)(b.a,{className:"text-left",md:11,children:Object(n.jsx)("span",{className:"bold",children:Object(n.jsxs)("span",{className:"gray",children:["Here's some ",Object(n.jsx)("span",{className:"blue",children:"insight"})," on your playlist. "]})})})]})}),Object(n.jsx)(p.a,{children:Object(n.jsx)(u.a,{children:Object(n.jsx)(b.a,{md:12,style:{marginBottom:"50px"},children:Object(n.jsx)(u.a,{children:Object(n.jsxs)(b.a,{className:"text-left",md:{span:6,offset:3},children:[Object(n.jsx)("span",{className:"bold gray",style:{fontSize:"16px"},children:"Insight"}),Object(n.jsxs)(j.a,{className:"boxShadow",children:[Object(n.jsx)(g,{label:"Underground Status",value:r.undergroundStatus}),Object(n.jsx)(g,{label:"Average Popularity",value:r.avgPopularity?r.avgPopularity:"0"}),Object(n.jsx)(g,{label:"# Tracks",value:r.numTracks}),Object(n.jsx)(g,{label:"# Artists",value:r.numArtists})]})]})})})})})]}):Object(n.jsxs)("header",{className:"track-view lightgray thicc",children:[Object(n.jsx)("i",{className:"fas fa-spinner fa-spin fa-7x"}),Object(n.jsx)("span",{style:{marginLeft:"30px",fontSize:"30px"},children:"Getting some info..."})]})},k=a(88),w=a(89),B=function(e){var t=e.token,a=e.spotify,s=e.authEndpoint;return Object(n.jsx)(o.a,{forceRefresh:!0,children:Object(n.jsxs)(k.a,{sticky:"top",style:{paddingTop:"25px",paddingBottom:"25px"},bg:"transparent",children:[Object(n.jsx)(k.a.Brand,{children:Object(n.jsx)(o.b,{to:"/",children:Object(n.jsx)("img",{src:"data:image/png;base64,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",className:"App-logo",alt:"logo"})})}),Object(n.jsx)(w.a,{className:"mr-auto"}),""===t?Object(n.jsx)(w.a.Link,{href:"".concat(s,"client_id=").concat(a.client_id,"&redirect_uri=").concat(a.redirect_uri,"&scope=").concat(a.scopes.join("%20"),"&response_type=token&show_dialog=true"),children:"Login"}):Object(n.jsx)(c.a.Fragment,{children:window.location.pathname.includes("me")?Object(n.jsx)(w.a.Link,{href:"/",children:Object(n.jsx)("i",{className:"fas fa-home gray"})}):Object(n.jsx)(w.a.Link,{href:"/me",children:Object(n.jsx)("i",{className:"fas fa-eye gray"})})})]})})},E=a(13),I=a.n(E),P=a(22);function G(){return(G=Object(P.a)(I.a.mark((function e(t,a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("https://api.spotify.com/v1/me",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t},data:"grant_type=client_credentials",method:"GET"}).then((function(e){a({fn:e.data.display_name.split(" ")[0],id:e.data.id})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,a){return S.apply(this,arguments)}function S(){return(S=Object(P.a)(I.a.mark((function e(t,a,n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("https://api.spotify.com/v1/me/playlists",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t},data:"grant_type=client_credentials",method:"GET"}).then((function(e){var s,c=!1,i=Object(x.a)(e.data.items);try{var r=function(){var e=s.value;"Underground Market"===e.name&&(c=!0,y()("https://api.spotify.com/v1/playlists/"+e.id,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t},data:"grant_type=client_credentials",method:"GET"}).then((function(t){t.data.tracks.items.sort((function(e,t){return e.track.popularity<t.track.popularity?1:-1})),console.log(t.data),a(t.data.tracks.items),n(e.id)})))};for(i.s();!(s=i.n()).done;)r()}catch(l){i.e(l)}finally{i.f()}c||n("-1")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(P.a)(I.a.mark((function e(t,a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("https://api.spotify.com/v1/playlists/37i9dQZEVXbMDoHDwVN2tF",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t},data:"grant_type=client_credentials",method:"GET"}).then((function(e){e.data.tracks.items.sort((function(e,t){return e.track.popularity<t.track.popularity?1:-1})),a(e.data.tracks.items)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(P.a)(I.a.mark((function e(t,a,n,s){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("https://api.spotify.com/v1/users/"+a+"/playlists",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t},data:{name:"Underground Market",description:"Investing in underground music!"},method:"POST"}).then((function(){T(t,n,s)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{}),L=(a(80),function(){var e={client_id:"d7a4392f350d493090f11dea6a95f1ce",client_secret:"f55d28528eeb4e55a385f4dedb7b502b",redirect_uri:"https://sanaknaki.github.io/undergroundmarket/",scopes:["user-read-email","user-read-currently-playing","user-read-playback-state","playlist-modify-public"]},t=Object(s.useState)(""),a=Object(l.a)(t,2),c=a[0],i=a[1],r=Object(s.useState)({fn:"",id:""}),j=Object(l.a)(r,2),p=j[0],u=j[1],b=Object(s.useState)([]),h=Object(l.a)(b,2),m=h[0],x=h[1],f=Object(s.useState)(""),y=Object(l.a)(f,2),g=y[0],O=y[1],k=Object(s.useState)([]),w=Object(l.a)(k,2),E=w[0],I=w[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("TOKEN")?localStorage.getItem("TOKEN"):H.access_token;e&&(localStorage.setItem("TOKEN",e),i(e),function(e,t){G.apply(this,arguments)}(e,u),T(e,x,O),function(e,t){D.apply(this,arguments)}(e,I)),window.location.hash=""}),[]),Object(n.jsxs)(o.a,{children:[Object(n.jsx)(B,{token:c,spotify:e,authEndpoint:"https://accounts.spotify.com/authorize?"}),c||localStorage.getItem("TOKEN")?Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{exact:!0,path:"/",children:Object(n.jsx)(A,{token:c,name:p.fn,undergroundPlaylist:m,undergroundPlaylistID:g,popularDailyPlaylist:E,createUndergroundMarketPlaylist:function(){return function(e,t,a,n){return Q.apply(this,arguments)}(c,p.id,x,O)}})}),Object(n.jsx)(d.a,{path:"/track/:trackId",children:Object(n.jsx)(v,{playlist:m,playlistID:g})}),Object(n.jsx)(d.a,{path:"/me",children:Object(n.jsx)(N,{playlist:m,playlistID:g})})]}):Object(n.jsx)("h1",{children:"YOU ARE NOT LOGGED IN!"})]})}),R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,91)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),R()}},[[81,1,2]]]);
//# sourceMappingURL=main.9b358477.chunk.js.map